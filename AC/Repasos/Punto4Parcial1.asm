PA EQU 30H
CA EQU 32H

EOI EQU 20H
IMR EQU 21H
INT0 EQU 24H
IDINT0 EQU 5

ORG 20
DW RUTF10

ORG 1000H
MSJ DB "UNIVERSIDAD NACIONAL DE LA PLATA"
FIN DB ?

ORG 3000H
INI_PIO: PUSH AX
  MOV AL, 0
  OUT CA, AL
POP AX
RET

ORG 3100H
ENVIAR0: PUSH AX
  MOV AL, 0
  OUT PA, AL
POP AX
RET

ORG 3200H
RUTF10: INT 0
IRET

ORG 2000H
CLI
  MOV AL, 11111110B
  OUT IMR, AL
  MOV AL, IDINT0
  OUT INT0, AL
STI

CALL INI_PIO
MOV BX, OFFSET MSJ
MOV CX, OFFSET FIN

LOOP: CALL ENVIAR0
MOV AL, [BX]
OUT PA, AL
INC BX
CMP CX, BX
JNZ LOOP

INT 0
END
